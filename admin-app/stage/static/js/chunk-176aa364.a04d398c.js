(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-176aa364"],{"0f04":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"query-form",attrs:{inline:!0,model:t.query,size:"mini"}},[a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.onReset}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{align:"center",label:"老鼠名称",prop:"nickname"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"等级",prop:"level"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"售价",prop:"price"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"支付币种",prop:"EnName"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否需要疗伤",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_healing?a("span",[t._v("不需要")]):1==e.row.is_healing?a("span",[t._v("需要")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"疗伤时间（分钟）",prop:"healing_time"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"最小偷取成功率",prop:"min_steal"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"最大偷取成功率",prop:"max_steal"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"最多偷取次数",prop:"max_frequency"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否禁用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_disable?a("span",{staticStyle:{color:"green"}},[t._v("否")]):1==e.row.is_disable?a("span",{staticStyle:{color:"red"}},[t._v("是")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"create_time"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"更新时间",prop:"update_time"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(a){return t.handleForm(e.$index,e.row)}}},[t._v("编辑\n        ")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"page-size":t.query.limit,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.formMap[t.formName],visible:t.formVisible,"before-close":t.hideForm,width:"50%",top:"5vh"},on:{"update:visible":function(e){t.formVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"老鼠名称:",prop:"nickname","label-width":"110px"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.nickname,callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}}),t._v(" "),a("label",{staticStyle:{"margin-left":"80px"}},[t._v("等级：")]),t._v(" "),a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:"","auto-complete":"off"},model:{value:t.formData.level,callback:function(e){t.$set(t.formData,"level",e)},expression:"formData.level"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"售价:",prop:"price","label-width":"110px"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price",e)},expression:"formData.price"}}),t._v(" "),a("label",{staticStyle:{"margin-left":"24px"}},[t._v("最多偷取次数：")]),t._v(" "),a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.max_frequency,callback:function(e){t.$set(t.formData,"max_frequency",e)},expression:"formData.max_frequency"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"说明:",prop:"explanation","label-width":"110px"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{type:"textarea",autosize:"",placeholder:"请输入说明","auto-complete":"off"},model:{value:t.formData.explanation,callback:function(e){t.$set(t.formData,"explanation",e)},expression:"formData.explanation"}}),t._v(" "),a("label",{staticStyle:{"margin-left":"14px"}},[t._v(" 疗伤时间(分钟)：")]),t._v(" "),a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.healing_time,callback:function(e){t.$set(t.formData,"healing_time",e)},expression:"formData.healing_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"偷取成功率:",prop:"min_steal","label-width":"110px"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.min_steal,callback:function(e){t.$set(t.formData,"min_steal",e)},expression:"formData.min_steal"}}),t._v(" "),a("label",[t._v("    至    ")]),t._v(" "),a("el-input",{staticStyle:{width:"30%"},attrs:{"auto-complete":"off"},model:{value:t.formData.max_steal,callback:function(e){t.$set(t.formData,"max_steal",e)},expression:"formData.max_steal"}}),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("*1表示100%")])],1),t._v(" "),a("el-form-item",{attrs:{label:"支付币种:",prop:"coin_id","label-width":"110px"}},[a("el-select",{staticStyle:{width:"30%"},model:{value:t.formData.coin_id,callback:function(e){t.$set(t.formData,"coin_id",e)},expression:"formData.coin_id"}},t._l(t.coinList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.EnName,value:t.Id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"图标","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://up-z2.qiniup.com","show-file-list":!1,"on-success":t.handleAvatarSuccess,data:{token:t.qiniu.Token}}},[t._v("\n          点击更换\n          "),t.formData.iconUrl?a("img",{staticClass:"avatar",attrs:{src:t.formData.iconUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v("    \n        "),a("a",{attrs:{target:"_blank",href:t.formData.iconUrl}},[a("span",{staticStyle:{color:"red"}},[t._v("点击查看图标")])])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){return t.hideForm(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.formSubmit()}}},[t._v("提交")])],1)],1)],1)},i=[],r=a("6103"),l=a("de81"),o={id:"",nickname:"",icon:"",level:"",price:"",is_healing:"",healing_time:"",max_hold:"",min_steal:"",max_steal:"",max_frequency:"",explanation:"",create_time:"",is_experience:"",is_disable:"",is_delete:"",imageUrl:"",update_time:""},s={data:function(){return{query:{id:"",page:1,limit:20},coinList:[],list:[],total:0,loading:!0,index:null,isEdit:null,formName:null,formMap:{add:"新增",edit:"编辑"},qiniu:{},formLoading:!1,formVisible:!1,formData:o,deleteLoading:!1,langList:[]}},mounted:function(){},created:function(){var t=this.$route.query;this.query=Object.assign(this.query,t),this.query.limit=parseInt(this.query.limit),this.getList(),this.qiniuGet()},methods:{onReset:function(){this.$router.push({path:""}),this.query={id:"",page:1,limit:20},this.getList()},qiniuGet:function(){var t=this;Object(l["c"])().then((function(e){t.qiniu=e.data,console.log(e.data)}))},handleAvatarSuccess:function(t,e){this.formData.icon=t.key,this.formData.iconUrl=this.qiniu.Domain+t.key},onSubmit:function(){this.query.page=1,this.$router.push({path:"",query:this.query}),this.getList()},handleCurrentChange:function(t){this.query.page=t,this.getList()},getList:function(){var t=this;this.loading=!0,Object(r["j"])(this.query).then((function(e){t.loading=!1,t.list=e.data.list||[],t.total=e.data.total||0,t.coinList=e.data.coinList||[]})).catch((function(){t.loading=!1,t.list=[],t.total=0,t.roles=[]}))},resetForm:function(){this.$refs["dataForm"]&&(this.$refs["dataForm"].clearValidate(),this.$refs["dataForm"].resetFields())},hideForm:function(){return this.formVisible=!this.formVisible,this.$refs["dataForm"].resetFields(),this.index=null,!0},handleForm:function(t,e){this.formVisible=!0,this.formData=JSON.parse(JSON.stringify(o)),null!==e&&(this.formData=JSON.parse(JSON.stringify(e))),this.formName="add",this.isEdit=0,null!==t&&(this.isEdit=1,this.index=t,this.formName="edit")},handleDel:function(t,e){var a=this;e.id&&this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){var t={id:e.id};a.deleteLoading=!0,Object(r["k"])(t).then((function(t){a.deleteLoading=!1,a.$message.success("操作成功"),a.getList()})).catch((function(){a.deleteLoading=!1}))})).catch((function(){a.$message.info("取消删除")}))},formSubmit:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){t.formLoading=!0;var a=Object.assign({},t.formData);Object(r["l"])(a,t.formName).then((function(e){if(t.formLoading=!1,t.$message.success("操作成功"),t.formVisible=!1,"add"===t.formName){if(e.data&&e.data.id){var n=Object.assign(a,e.data);t.list.unshift(n)}}else{var i=Object.assign(a,e.data);t.list.splice(t.index,1,i)}t.getList()})).catch((function(){t.formLoading=!1}))}}))}}},u=s,c=(a("aa96"),a("2877")),m=Object(c["a"])(u,n,i,!1,null,null,null);e["default"]=m.exports},"17e5":function(t,e,a){},6103:function(t,e,a){"use strict";a.d(e,"h",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"m",(function(){return l})),a.d(e,"j",(function(){return o})),a.d(e,"k",(function(){return s})),a.d(e,"l",(function(){return u})),a.d(e,"p",(function(){return c})),a.d(e,"i",(function(){return m})),a.d(e,"o",(function(){return d})),a.d(e,"n",(function(){return f})),a.d(e,"q",(function(){return p})),a.d(e,"r",(function(){return h})),a.d(e,"s",(function(){return g})),a.d(e,"f",(function(){return _})),a.d(e,"g",(function(){return b})),a.d(e,"a",(function(){return v})),a.d(e,"b",(function(){return y})),a.d(e,"d",(function(){return x})),a.d(e,"c",(function(){return D}));var n=a("b775");function i(t){return Object(n["a"])({url:"/miner/miner_level",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/miner/miner_levelEdit",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/miner/miner_saplingType",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/shop/sapling_package",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/miner/sapling_packageDel",method:"post",data:t})}function u(t,e){var a="edit"===e?"/shop/sapling_packageEdit":"/shop/sapling_packageAdd";return Object(n["a"])({url:a,method:"post",data:t})}function c(t){return Object(n["a"])({url:"/miner/sapling_share_reward",method:"get",params:t})}function m(t,e){var a="edit"===e?"/miner/sapling_share_rewardEdit":"/miner/sapling_share_rewardAdd";return Object(n["a"])({url:a,method:"post",data:t})}function d(t){return Object(n["a"])({url:"/miner/sapling_share_rewardDel",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/members/user_sapling_release",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/shop/user_sapling",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/shop/user_saplingEdit",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/miner/user_sapling_receive",method:"get",params:t})}function _(t){return Object(n["a"])({url:"/miner/miner_dividend",method:"get",params:t})}function b(t,e){var a="edit"===e?"/miner/miner_dividendEdit":"/miner/miner_dividendAdd";return Object(n["a"])({url:a,method:"post",data:t})}function v(t){return Object(n["a"])({url:"/shop/dog_list",method:"get",params:t})}function y(t,e){var a="/shop/dog_edit";return Object(n["a"])({url:a,method:"post",data:t})}function x(t){return Object(n["a"])({url:"/shop/user_dog_list",method:"get",params:t})}function D(t){return Object(n["a"])({url:"/shop/user_dog_del",method:"post",data:t})}},aa96:function(t,e,a){"use strict";a("17e5")},de81:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return o}));a("3b2b"),a("a481"),a("6b54");var n=a("b775");function i(t){return Object(n["a"])({url:"qiniu-token",method:"get",params:t})}function r(){return Object(n["a"])({url:"/upload/getToken",method:"get"})}function l(t,e){return Object(n["a"])({url:t,method:"post",data:e})}function o(t,e){if(!e)return"";var a=new Date;a.setTime(1e3*e);var n=a.getMonth()+1,i=a.getDate(),r=a.getHours(),l=a.getMinutes(),o=a.getSeconds(),s={Y:a.getFullYear(),m:1===n.toString().length?"0"+n:n,d:1===i.toString().length?"0"+i:i,H:1===r.toString().length?"0"+r:r,i:1===l.toString().length?"0"+l:l,s:1===o.toString().length?"0"+o:o};for(var u in s)t=t.replace(new RegExp(u),s[u]);return t}}}]);